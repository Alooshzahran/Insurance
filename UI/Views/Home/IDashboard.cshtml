@{
    ViewData["Title"] = "IDashboard";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<style>

    #floating-panel {
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: "Roboto", "sans-serif";
        line-height: 30px;
        padding-left: 10px;
        width: 100%;
    }
</style>
<div class="content-wrapper">
    <div class="row">
        <div class="col-md-3 mb-2 stretch-card transparent">
            <div class="card card-tale" style="background:#8DDFCB">
                <div class="card-body">
                    <p class="fs-30 mb-2">19</p>
                    <p class="fs-30 mb-2">Cars</p>
                    <div class="progress progress-md">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <p>Available : 13 &nbsp;&nbsp; Service : 6 </p>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-2 stretch-card transparent">
            <div class="card card-tale" style="background:#FFB000">
                <div class="card-body">
                    <p class="fs-30 mb-2">6</p>
                    <p class="fs-30 mb-2">Vans</p>
                    <div class="progress progress-md">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <p>Available : 2 &nbsp;&nbsp; Service : 4 </p>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-2 stretch-card transparent">
            <div class="card card-tale" style="background:#004225">
                <div class="card-body">
                    <p class="fs-30 mb-2">3</p>
                    <p class="fs-30 mb-2">Trucks</p>
                    <div class="progress progress-md">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <p>Available : 2 &nbsp;&nbsp; Service : 1 </p>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-2 stretch-card transparent">
            <div class="card card-tale" style="background:#FFCF9D">
                <div class="card-body">
                    <p class="fs-30 mb-2">10</p>
                    <p class="fs-30 mb-2">Buses</p>
                    <div class="progress progress-md">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <p>Available : 8 &nbsp;&nbsp; Service : 2 </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="content-wrapper">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Costs</h4>
                    <div class="col-md-12 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                                <div id="bar-legend" class="chartjs-legend mt-4 mb-2">
                                    <ul class="1-legend">
                                        <li><span style="background-color: rgb(152, 189, 255);"></span>Insurance</li>
                                        <li><span style="background-color: rgb(75, 73, 172);"></span>Service</li>
                                        <li><span style="background-color: #bbbbbc;"></span>Fuel</li>
                                    </ul>
                                </div>
                                <canvas id="bar-chart" width="686" height="342" style="display: block; height: 274px; width: 549px;" class="chartjs-render-monitor"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="content-wrapper">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Travels</h4>
                    <div class="col-md-12 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                                <canvas id="line-chartTravel" style="display: block; height: 274px; width: 549px;" width="686" height="342" class="chartjs-render-monitor"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="content-wrapper">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Vehicles History</h4>
                    <canvas id="linechart-multi"></canvas>
                </div>
            </div>
        </div>
        <div class="col-lg-12 stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive pt-3">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>
                                        #
                                    </th>
                                    <th>
                                        Car No.
                                    </th>
                                    <th>
                                        Type of Requset
                                    </th>
                                    <th>
                                        Month
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table">
                                    <td>
                                        1
                                    </td>
                                    <td>
                                        18-59582
                                    </td>
                                    <td>
                                        Request New Car
                                    </td>
                                    <td>
                                        Jan 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        2
                                    </td>
                                    <td>
                                        13-51515
                                    </td>
                                    <td>
                                        Request New Car
                                    </td>
                                    <td>
                                        Feb 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        3
                                    </td>
                                    <td>
                                        10-52244
                                    </td>
                                    <td>
                                        Request New Car
                                    </td>
                                    <td>
                                        Jan 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        4
                                    </td>
                                    <td>
                                        13-51515
                                    </td>
                                    <td>
                                        Request Maintenance
                                    </td>
                                    <td>
                                        Mar 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        5
                                    </td>
                                    <td>
                                        10-52244
                                    </td>
                                    <td>
                                        Request Car Information
                                    </td>
                                    <td>
                                        May 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        6
                                    </td>
                                    <td>
                                        18-59582
                                    </td>
                                    <td>
                                        Request Maintenance
                                    </td>
                                    <td>
                                        Apr 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        7
                                    </td>
                                    <td>
                                        13-51515
                                    </td>
                                    <td>
                                        Request Car Information
                                    </td>
                                    <td>
                                        May 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        8
                                    </td>
                                    <td>
                                        10-52244
                                    </td>
                                    <td>
                                        Request Maintenance
                                    </td>
                                    <td>
                                        Jun 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        9
                                    </td>
                                    <td>
                                        18-59582
                                    </td>
                                    <td>
                                        Request Maintenance
                                    </td>
                                    <td>
                                        Jul 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        10
                                    </td>
                                    <td>
                                        13-51515
                                    </td>
                                    <td>
                                        Request Driver Authentication for Location
                                    </td>
                                    <td>
                                        Sep 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        11
                                    </td>
                                    <td>
                                        18-59582
                                    </td>
                                    <td>
                                        Request New Car
                                    </td>
                                    <td>
                                        Aug 2023
                                    </td>
                                </tr>
                                <tr class="table">
                                    <td>
                                        12
                                    </td>
                                    <td>
                                        10-52244
                                    </td>
                                    <td>
                                        Request Diposable
                                    </td>
                                    <td>
                                        Sep 2023
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
@*<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly" defer></script>*@
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    $(function () {
        if ($("#bar-chart").length) {
            var SalesChartCanvas = $("#bar-chart").get(0).getContext("2d");
            var SalesChart = new Chart(SalesChartCanvas, {
                type: 'bar',
                data: {
                    labels: ["Jan", "Feb", "Mar", "Apr", "May"],
                    datasets: [{
                        label: 'Insurance',
                        data: [480, 230, 470, 210, 330],
                        backgroundColor: '#98BDFF'
                    },
                    {
                        label: 'Service',
                        data: [400, 340, 550, 480, 170],
                        backgroundColor: '#2cb684'
                    },
                    {
                        label: 'Fuel',
                        data: [300, 500, 700, 250, 370],
                        backgroundColor: '#bbbbbc'
                    }
                    ]
                },
                options: {
                    cornerRadius: 5,
                    responsive: true,
                    maintainAspectRatio: true,
                    layout: {
                        padding: {
                            left: 0,
                            right: 0,
                            top: 20,
                            bottom: 0
                        }
                    },
                    scales: {
                        yAxes: [{
                            display: true,
                            gridLines: {
                                display: true,
                                drawBorder: false,
                                color: "#F2F2F2"
                            },
                            ticks: {
                                display: true,
                                min: 0,
                                max: 560,
                                callback: function (value, index, values) {
                                    return value + '$';
                                },
                                autoSkip: true,
                                maxTicksLimit: 10,
                                fontColor: "#6C7383"
                            }
                        }],
                        xAxes: [{
                            stacked: false,
                            ticks: {
                                beginAtZero: true,
                                fontColor: "#6C7383"
                            },
                            gridLines: {
                                color: "rgba(0, 0, 0, 0)",
                                display: false
                            },
                            barPercentage: 1
                        }]
                    },
                    legend: {
                        display: false
                    },
                    elements: {
                        point: {
                            radius: 0
                        }
                    }
                },
            });
            document.getElementById('bar-legend').innerHTML = SalesChart.generateLegend();
        }
        if ($("#line-chartTravel").length) {
            var areaData = {
                labels: ["Jan", "Feb", "Mar", "Apr", "May"],
                datasets: [
                    {
                        data: [2000, 48000, 7000, 60000, 6200, 3750, 38990, 3510, 85011, "60099", "9650", "35000", "58990", "33350", "61220", "50880", "99120", "79080", "23650"],
                        borderColor: [
                            '#4747A1'
                        ],
                        borderWidth: 2,
                        fill: false,
                        label: "Orders"
                    }
                ]
            };
            var areaOptions = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    filler: {
                        propagate: false
                    }
                },
                scales: {
                    xAxes: [{
                        display: true,
                        ticks: {
                            display: true,
                            padding: 10,
                            fontColor: "#6C7383"
                        },
                        gridLines: {
                            display: false,
                            drawBorder: false,
                            color: 'transparent',
                            zeroLineColor: '#eeeeee'
                        }
                    }],
                    yAxes: [{
                        display: true,
                        ticks: {
                            display: true,
                            autoSkip: false,
                            maxRotation: 0,
                            stepSize: 5000,
                            min: 0,
                            max: 60000,
                            padding: 18,
                            fontColor: "#6C7383"
                        },
                        gridLines: {
                            display: true,
                            color: "#f2f2f2",
                            drawBorder: false
                        }
                    }]
                },
                legend: {
                    display: false
                },
                tooltips: {
                    enabled: true
                },
                elements: {
                    line: {
                        tension: .35
                    },
                    point: {
                        radius: 0
                    }
                }
            }
            var revenueChartCanvas = $("#line-chartTravel").get(0).getContext("2d");
            var revenueChart = new Chart(revenueChartCanvas, {
                type: 'line',
                data: areaData,
                options: areaOptions
            });
        }
    });
            function initMap() {
            const directionsService = new google.maps.DirectionsService();
            const directionsRenderer = new google.maps.DirectionsRenderer();
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 7,
                center: { lat: 41.85, lng: -87.65 },
            });

            directionsRenderer.setMap(map);

            const onChangeHandler = function () {
                calculateAndDisplayRoute(directionsService, directionsRenderer);
            };

            document.getElementById("start").addEventListener("change", onChangeHandler);
            document.getElementById("end").addEventListener("change", onChangeHandler);
        }

            function calculateAndDisplayRoute(directionsService, directionsRenderer) {
            directionsService
                .route({
                    origin: {
                        query: document.getElementById("start").value,
                    },
                    destination: {
                        query: document.getElementById("end").value,
                    },
                    travelMode: google.maps.TravelMode.DRIVING,
                })
                .then((response) => {
                    directionsRenderer.setDirections(response);
                })
                .catch((e) => window.alert("Directions request failed due to " + status));
        }

            window.initMap = initMap;

</script>